<!DOCTYPE html>
<html>

<head>
<script>

async function getPersons()
{
  
	let url='/api/listapersonelocale';
	try {
		let res=await fetch(url);
		return await res.text();
	} catch (error) {
		alert("Estrazione non possibile");
	}

}

async function listaPersone()
{
	let persons=await getPersons();
  persons=JSON.parse(persons);



  var anagraficahtml="";

  for (var i=0;i<persons.length;i++)
  {

    anagraficahtml+=persons[i].id; anagraficahtml+=" ";
    anagraficahtml+=persons[i].cognome; anagraficahtml+=" ";
    anagraficahtml+=persons[i].nome; anagraficahtml+="<br>";

    document.getElementById("anagrafica").innerHTML=anagraficahtml;
   

  }

}



</script> 
</head>

<body>
<h1>Lista persone (HTML) - Locale</h1>
<body onLoad="listaPersone();"></body>

<div id="anagrafica"></div>


</body>

</html>